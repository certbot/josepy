[flake8]
exclude = .git,.tox
# E203 and W503 are ignored here for compatibility with black
ignore = E203,W503,W504
max-line-length = 100

[tox]
isolated_build = true
envlist = mypy,pre-commit,py

[testenv]
allowlist_externals = poetry
commands_pre = poetry install -v
commands = poetry run pytest -v --cov-report xml --cov-report=term-missing --cov=josepy {posargs}

[testenv:pre-commit]
commands = poetry run pre-commit run --all

[testenv:mypy]
commands = poetry run mypy src tests
